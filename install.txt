Nochex APC Payment Module (v0.1.1) Add-on for osCommerce
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

ATTENTION:
----------

This contrib is designed to run ONLY on osCommerce v2.2 Milestone 2. 
This is based on the original Nochex-APC community plugin (available 
at http://www.oscommerce.com/community/contributions,2280) and both 
plugins cannot co-exist on the same osCommerce installation.

***********************************************************************
* IF YOU ALREADY HAVE A NOCHEX_APC PLUGIN INSTALLED ON YOUR SITE 
* PLEASE NOTE THE FOLLOWING:
* Applying this module will overwrite your existing Nochex APC plugin. 
* You should note that the SQL table structure has changed and therefore 
* this module cannot read any transactions you may already have recorded. 
* If you wish to keep your existing transactions, do not worry, they 
* will not be deleted. You must export the data from the old 
* `nochexapc_transactions` table and import it into the new table 
* `nochex_apc_transactions`. The field names are NOT the same, you will 
* need to perform a search and replace on your existing table dump to 
* change the field names before importing the data. Referring to the new 
* table, you need insert only the fields that begin with 'nc_' and the 
* 'nochex_response' field.
***********************************************************************

Pre-installation notes.
-----------------------

1) You must have a working osCommerce installation.

2) When making modifications to your working files, ALWAYS create a 
   backup copy first. If something goes wrong, just restore the 
   respective backup file and try again.

3) Due to possible inconsistencies with new osCommerce releases, this 
   plugin is not guaranteed to work. If you encounter any difficulties 
   such as files not being as expected, skip that file and continue. 
   Chances are you will still get the module working, although a 
   particular feature might not work as it should.

4) Please report bugs to the authors by emailing 
   info@entrepreneuria.co.uk. We cannot and will not provide free 
   technical support for this module.


Installation instructions.
--------------------------

1) Unpack the zip file to a temporary directory

2) Process the nochex_apc.sql file. A good way to do this is using 
   phpMyAdmin (http://www.phpmyadmin.net). 
   You can also import it using the mysql console, for example type the 
   following at a command prompt:
     mysql --user=username --pass databasename < nochex_apc.sql

   The nochex_apc.sql file has 2 insert lines that add 2 new 
   orders_status.

   You should check 2 things:
   a) Since the new orders_status_id is 50000 & 50001, you should make 
      sure that you dont already have an order status with this id.

3) All of the files are stored in the same directory structure as the 
   default osCommerce package. You will find some filename.txt files, 
   that contains the changes you need to do to make the contrib work.
   The remaining files can be moved to their respective directories.

   It is strongly recommended that you back up your files and your 
   database before making changes to your installation.

4) Go to your osCommerce Admin, and activate Nochex APC (labelled as 
   "Credit or Debit Card (via Nochex)") in the Payment Modules section. 

5) Enable test mode and run a test order through your site. To process 
   a "dummy" credit card payment, enter a card number of 12345678901234
   and make up your own expiry date, CV number, name and address. Once 
   you have run through an entire test order, you should see the 
   transaction in the "Nochex APC" admin module.

IMPORTANT

1: Dont forget to turn test status off if you want to use the module in 
   live mode, otherwise you won't receive any real money!
2: On the Nochex APC module configuration, be careful to not "Set 
   Order Status" to "Nochex Processing" or your orders will always stay 
   on that status.

**********************************
INFORMATION FOR NOCHEX MERCHANTS!!
**********************************

If you are a Nochex merchant account holder, you will need to set up 
your Nochex account to support your site. Log into your Nochex account 
and click on the "Payments Page Setup" link near the bottom of your 
account homepage. You can either use your email address or set up a 
merchant ID for your site. You will need to enter the following details 
into this page so that Nochex correctly notifies your site after payment 
and so that your buyers are forwarded back to your site correctly.

Success URL:	http://yourwebsite.com/catalog/checkout_success.php
Cancel URL:	http://yourwebsite.com/catalog/checkout_payment.php
Callback URL:	http://yourwebsite.com/catalog/nochex_apc_handler.php

You may also wish to tick the "Auto Redirect" and/or "Request 
Delivery Address" options.

